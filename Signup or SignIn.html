<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AURABOX - Login/Signup</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #ffffff, rgba(173, 216, 230, 0.71));
            margin: 0;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow-x: hidden;
        }
        .hidden {
            display: none;
        }
        .fade-in {
            animation: fadeIn 0.6s ease-in-out forwards;
        }
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        .loading-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background: linear-gradient(135deg, #ffffff, rgba(173, 216, 230, 0.71));
            z-index: 1000;
        }
        .logo-container {
            position: relative;
            width: 200px;
            height: 200px;
        }
        .logo {
            width: 100%;
            height: 100%;
            object-fit: contain;
            z-index: 2;
            animation: pulse 2s infinite alternate;
        }
        .circle {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 4px solid #3B82F6;
            border-radius: 50%;
            animation: rotate 4s linear infinite;
        }
        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            100% { transform: scale(1.1); }
        }
        .auth-container {
            background: white;
            padding: 2rem;
            border-radius: 1rem;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 400px;
            transition: all 0.3s ease;
        }
        .auth-container:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
        }
        .input-field {
            transition: all 0.3s ease;
        }
        .input-field:focus {
            transform: translateY(-2px);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .btn-blue {
            background-color: #3B82F6;
            color: white;
            transition: all 0.3s ease;
        }
        .btn-blue:hover {
            background-color: #2563EB;
            transform: translateY(-2px);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        /* Floating Contact Buttons */
.floating-contact-container {
    position: fixed;
    bottom: 20px;
    right: 20px;
    display: none; /* Hide initially */
    flex-direction: column;
    gap: 10px;
    align-items: center;
}

.floating-contact {
    background-color: #3B82F6;
    color: white;
    border-radius: 50%;
    padding: 15px;
    font-size: 20px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    transition: transform 0.3s ease;
}

.floating-contact:hover {
    transform: scale(1.1);
}

.floating-contact a {
    color: white;
    text-decoration: none;
}

    </style>
</head>
<body>
    <!-- Floating Contact Buttons -->
<div id="floatingContactContainer" class="floating-contact-container">
    <div class="floating-contact">
        <a href="tel:+919153737258" title="Call +919153737258">
            üìû
        </a>
    </div>
    <div class="floating-contact">
        <a href="mailto:auraboxavailable@gmail.com" title="Email auraboxavailable@gmail.com">
            ‚úâÔ∏è
        </a>
    </div>
</div>

    <div id="loadingPage" class="loading-container">
        <div class="logo-container">
            <img src="https://hebbkx1anhila5yf.public.blob.vercel-storage.com/AURA-removebg-preview-enHCpvi8splrMinUWS8aRcXqrrqeKA.png" alt="Aura Box Logo" class="logo">
            <div class="circle"></div>
        </div>
    </div>

    <div id="authContainer" class="auth-container hidden fade-in">
        <img src="https://hebbkx1anhila5yf.public.blob.vercel-storage.com/AURA-removebg-preview-enHCpvi8splrMinUWS8aRcXqrrqeKA.png" alt="Aura Box Logo" class="w-24 h-24 mx-auto mb-6">
        
        <!-- Login Form -->
        <form id="loginForm" class="space-y-4">
            <h2 class="text-2xl font-bold mb-6 text-center text-blue-600">Login to AURABOX</h2>
            <input 
                type="email" 
                id="loginEmail" 
                placeholder="Email" 
                required 
                class="w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 input-field"
            >
            <input 
                type="password" 
                id="loginPassword" 
                placeholder="Password" 
                required 
                class="w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 input-field"
            >
            <button 
                type="submit" 
                class="w-full p-3 rounded-lg btn-blue"
            >
                Login
            </button>
            <div class="text-center">
                <a href="#" id="forgotPassword" class="text-sm text-blue-500 hover:underline">Forgot Password?</a>
            </div>
            <p class="text-center mt-4">
                Don't have an account? 
                <a href="#" id="showSignup" class="text-blue-500 hover:underline">Sign Up</a>
            </p>
            <p id="loginError" class="text-red-500 text-center mt-4 hidden"></p>
        </form>

        <!-- Signup Form -->
        <form id="signupForm" class="hidden space-y-4">
            <h2 class="text-2xl font-bold mb-6 text-center text-blue-600">Create AURABOX Account</h2>
            <input 
                type="text" 
                id="signupUsername" 
                placeholder="Username" 
                required 
                class="w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 input-field"
            >
            <input 
                type="email" 
                id="signupEmail" 
                placeholder="Email" 
                required 
                class="w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 input-field"
            >
            <input 
                type="password" 
                id="signupPassword" 
                placeholder="Password" 
                required 
                class="w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 input-field"
            >
            <input 
                type="password" 
                id="confirmPassword" 
                placeholder="Confirm Password" 
                required 
                class="w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 input-field"
            >
            <button 
                type="submit" 
                class="w-full p-3 rounded-lg btn-blue"
            >
                Sign Up
            </button>
            <p class="text-center mt-4">
                Already have an account? 
                <a href="#" id="showLogin" class="text-blue-500 hover:underline">Login</a>
            </p>
            <p id="signupError" class="text-red-500 text-center mt-4 hidden"></p>
        </form>

        <!-- Dashboard (Placeholder) -->
        <div id="dashboard" class="hidden fade-in text-center">
            <h2 class="text-2xl font-bold mb-6">Welcome, <span id="userDisplayName"></span>!</h2>
            <button 
                id="logoutBtn" 
                class="bg-red-500 text-white p-3 rounded-lg hover:bg-red-600 transition duration-300"
            >
                Logout
            </button>
        </div>
    </div>

    <!-- Firebase Scripts -->
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
    <script>
        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyCDVZ-xaUciry_K6VMWV8J5m4sjxLg127g",
            authDomain: "helpauraboxindia.firebaseapp.com",
            projectId: "helpauraboxindia",
            storageBucket: "helpauraboxindia.appspot.com",
            messagingSenderId: "524884475252",
            appId: "1:524884475252:web:your-app-id-here"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();

        // DOM Elements
        const loadingPage = document.getElementById('loadingPage');
        const authContainer = document.getElementById('authContainer');
        const loginForm = document.getElementById('loginForm');
        const signupForm = document.getElementById('signupForm');
        const dashboardDiv = document.getElementById('dashboard');
        const showSignupLink = document.getElementById('showSignup');
        const showLoginLink = document.getElementById('showLogin');
        const forgotPasswordLink = document.getElementById('forgotPassword');
        const loginError = document.getElementById('loginError');
        const signupError = document.getElementById('signupError');
        const userDisplayName = document.getElementById('userDisplayName');
        const logoutBtn = document.getElementById('logoutBtn');

        // Loading Page
        window.addEventListener('load', () => {
            setTimeout(() => {
                loadingPage.style.opacity = '0';
                loadingPage.style.pointerEvents = 'none';
                authContainer.classList.remove('hidden');
            }, 2000);
        });

        // Toggle between Login and Signup Forms
        showSignupLink.addEventListener('click', (e) => {
            e.preventDefault();
            loginForm.classList.add('hidden');
            signupForm.classList.remove('hidden');
        });

        showLoginLink.addEventListener('click', (e) => {
            e.preventDefault();
            signupForm.classList.add('hidden');
            loginForm.classList.remove('hidden');
        });

        // Forgot Password Handler
        forgotPasswordLink.addEventListener('click', (e) => {
            e.preventDefault();
            const email = prompt("Please enter your email address:");
            if (email) {
                auth.sendPasswordResetEmail(email)
                    .then(() => {
                        alert("Password reset email sent. Please check your inbox.");
                    })
                    .catch((error) => {
                        alert("Error: " + error.message);
                    });
            }
        });

        // Login Handler
        loginForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;

            try {
                await auth.signInWithEmailAndPassword(email, password);
            } catch (error) {
                loginError.textContent = error.message;
                loginError.classList.remove('hidden');
            }
        });

        // Signup Handler
        signupForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const username = document.getElementById('signupUsername').value;
            const email = document.getElementById('signupEmail').value;
            const password = document.getElementById('signupPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;

            // Password validation
            if (password !== confirmPassword) {
                signupError.textContent = "Passwords do not match";
                signupError.classList.remove('hidden');
                return;
            }

            try {
                const userCredential = await auth.createUserWithEmailAndPassword(email, password);
                await userCredential.user.updateProfile({
                    displayName: username
                });
            } catch (error) {
                signupError.textContent = error.message;
                signupError.classList.remove('hidden');
            }
        });

        // Authentication State Observer
        auth.onAuthStateChanged((user) => {
            if (user) {
                // User is signed in
                loginForm.classList.add('hidden');
                signupForm.classList.add('hidden');
                dashboardDiv.classList.remove('hidden');
                userDisplayName.textContent = user.displayName || user.email;
            } else {
                // User is signed out
                loginForm.classList.remove('hidden');
                signupForm.classList.add('hidden');
                dashboardDiv.classList.add('hidden');
            }
        });

        // Logout Handler
        logoutBtn.addEventListener('click', () => {
            auth.signOut();
        });

        // Get current user's username
        const currentUser = firebase.auth().currentUser;
        if (currentUser) {
            const username = currentUser.displayName || currentUser.email;
            // Use username in your website
        }

        
        // Show the floating contact options after the page has loaded
window.addEventListener('load', () => {
    const floatingContactContainer = document.getElementById('floatingContactContainer');
    
    // Show the floating contact options with animation
    setTimeout(() => {
        floatingContactContainer.style.display = 'flex';
    }, 2000); // Delay 2 seconds after the page loads
});

    </script>
</body>
</html>